<div class="sidebar-content">
    <!-- Lesson Selector -->
    <div class="lesson-selector">
        <label>ğŸ“š Lesson</label>
        <select class="lesson-dropdown"
                @change="window.location.href = `${window.BASE_PATH}/lessons/${$event.target.value}.html`">
            <template x-for="(lessonItem, index) in lessons" :key="lessonItem.id">
                <option :value="lessonItem.id"
                        :selected="currentLessonId === lessonItem.id"
                        x-text="`${isCompleted(lessonItem.id) ? 'âœ“ ' : ''}${index + 1}. ${lessonItem.title}`">
                </option>
            </template>
        </select>
        <div class="lesson-meta" x-show="lesson">
            <span class="difficulty" x-text="lesson?.difficulty"></span>
            <span class="duration" x-text="`${lesson?.duration}min`"></span>
        </div>
    </div>

    <!-- Instructions (short version) -->
    <div class="sidebar-instructions">
        <h3>ğŸ“– Instructions</h3>
        <div x-show="showInstructions" x-transition>
            {{ lesson.instructions_html | safe }}
        </div>
        <button @click="showInstructions = !showInstructions" class="btn-text">
            <span x-text="showInstructions ? 'Hide â–²' : 'Show â–¼'"></span>
        </button>
    </div>

    <!-- Action Buttons -->
    <div class="sidebar-actions">
        <button id="runBtn" @click="runCode()" :disabled="isRunning" class="btn-run">
            <span x-show="!isRunning">â–¶ Run Code</span>
            <span x-show="isRunning">â³ Running...</span>
        </button>
        <button @click="clearCanvas()" class="btn-secondary">ğŸ—‘ï¸ Clear</button>
        <div id="status" class="status-text"></div>
    </div>
</div>
